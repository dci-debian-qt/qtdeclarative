From 653f4d6ce5851011e52c37b01ef81c7fbc16c26c Mon Sep 17 00:00:00 2001
From: Albert Astals Cid <albert.astals@canonical.com>
Date: Fri, 14 Aug 2015 14:49:54 +0200
Subject: [PATCH] Fix memory leak when using async image providers

Change-Id: I08392ab0a3edb1ac162110ebc349ad457800c788
Reviewed-by: Robin Burchell <robin.burchell@viroteck.net>
---
 src/quick/util/qquickpixmapcache.cpp | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/quick/util/qquickpixmapcache.cpp b/src/quick/util/qquickpixmapcache.cpp
index 6f6e91e..a77bfd1 100644
--- a/src/quick/util/qquickpixmapcache.cpp
+++ b/src/quick/util/qquickpixmapcache.cpp
@@ -579,6 +579,7 @@ void QQuickPixmapReader::processJobs()
                     if (asyncResponse) {
                         asyncResponses.remove(asyncResponse);
                         asyncResponse->cancel();
+                        asyncResponse->deleteLater();
                     }
                 }
                 PIXMAP_PROFILE(pixmapStateChanged<QQuickProfiler::PixmapLoadingError>(job->url));
-- 
2.5.0

